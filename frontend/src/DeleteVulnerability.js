import React, { useEffect } from 'react';
import { useParams, useNavigate } from 'react-router-dom';

const DeleteVulnerability = () => {
  const { id } = useParams();
  const navigate = useNavigate();

  useEffect(() => {
    fetch(`/api/vulnerabilities/${id}/delete`, {
      method: 'DELETE',
    })
      .then(response => {
        if (!response.ok) {
          throw new Error('Failed to delete the vulnerability');
        }
        navigate('/vulnerabilities'); // Navigate back to the list after deletion
      })
      .catch(error => console.error('Error deleting vulnerability:', error));
  }, [id, navigate]);

  return (
    <div>
      <p>Deleting vulnerability...</p>
    </div>
  );
};

export default DeleteVulnerability;
